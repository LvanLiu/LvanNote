# 单元测试的艺术-隔离框架

## 为什么要使用隔离框架

**隔离框架**

定义：一个隔离框架是一套可编程的API，使用这套API创建伪对象比手工编写容易得多，快得多，而且简洁得多。

> [!tip]
> Java下的隔离框架：jMock、Mockito以及PowerMock

使用隔离框架具备以下特点：

- 可以使代码开发更为优雅
- 简化复杂的测试
- 提供测试运行速度
- 减少测试中的错误

## 动态生成伪对象

定义：动态伪对象是在运行时创建的任何存根或模拟对象，它的创建不需要手工编写代码（硬代码）。

## 隔离框架的优缺点

**优点**
- 更容易验证参数
- 更容易验证多次方法调用
- 更容易创建伪对象

**避免踩坑**
- 测试代码不可读
- 验证错误的东西
- 一个测试有多个模拟对象
- 过度指定测试

