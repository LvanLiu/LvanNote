# 单元测试的艺术阅读笔记

## 单元测试基础

### 什么是单元测试

一个单元测试是一段自动化的代码，这段代码调用被测试的工作单元，之后对这个单元的单个最终结果的某些假设进行检验。单元测试几乎都是单元测试框架编写的。单元测试容易编写，能快速运行。单元测试可靠、刻读，并且可维护。只要产品不发生变化，单元测试的结果是稳定的。

### 什么是集成测试

任何测试，如果它运行速度不快，结果不稳定，或者要用到被测试单元的一个或多个真实依赖物，我就认为它是集成测试。例如，如果一个测试要使用真实的系统时间，真实的文件系统或者一个真实的数据库，那这个测试就进入了集成测试的领域。

集成测试也与单元测试同等重要，但是还是要将它们拆分开，如果只做集成测试，不做单元测试，是比较难定位问题的。

### 优秀的单元测试

优秀的单元测试具有以下特性：

- 它应该是自动化的，可重复执行
- 它应该很容易实现
- 它应该第二天还有意义
- 任何人都应该一键运行它
- 它应该运行速度很快
- 它的结果应该是稳定的（如果运行之间没有进行修改的话，多次运行的一个测试应该总是返回同样的结果）
- 它应该能完全控制被测试的单元
- 它应该是完全隔离的（独立于其他测试的运行）
- 如果它失败了，我们应该很容易发现什么是期待的结果，进而定位问题的所在